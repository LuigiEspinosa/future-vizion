var windowW=window.innerWidth;var windowH=window.innerHeight;var scrollWindow=window;var scrollT,scrollB,scrollM;var ie=false;var indicator=new WheelIndicator();function size(){windowW=window.innerWidth,windowH=window.innerHeight,pageH=$(".page_wrapper").height(),pcsize=900<windowW,getPosition()}function init(e){if($footer=$(".footer"),pagetype=e||$("[data-pagetype]").data("pagetype"),effect.cover(),effect.bw(),effect.blurtx(),effect.typewriterSet()){var g,a;function h(b){return b.originalEvent.touches[0].pageY}homeFunc(),fullpage.init(),indicator.setOptions({callback:function(b){fullpage.start(b.direction)},preventMouse:!0}),$(document).on("touchstart",function(b){a=h(b)}),$(document).on("touchmove",function(b){g=a>h(b)?"down":"up",fullpage.start(g)})}else{indicator.setOptions({callback:function(b){scroll.header(b.direction)},preventMouse:!1})}"subpage"===pagetype&&subpageFunc()}$(function(){$html=$("html"),$html.addClass("ready").addClass(ua.browser),size(),init()}),$(window).on({resize:function(){size(),TweenLite.set(".panel_front, .panel_back",{clip:"rect(0px "+windowW+"px "+windowH+"px 0px)"})}}),TweenLite.set(".transitionPanel",{clip:"rect(0px "+windowW+"px "+windowH+"px 0px)"});var imageload=imagesLoaded($("body"),{background:!0}),count=0,timer=null;timer=setTimeout(function(){loading.progress(1),loading.complete(1.2)},3000),imageload.on("progress",function(e,f){var a=++count/e.images.length;loading.progress(a)}),imageload.on("always",function(b){clearTimeout(timer),loading.progress(1),loading.complete(1.2)});var loading={progress:function(b){TweenLite.to(".prgoress",1,{width:100*b+"%",ease:Sine.easeInOut})},complete:function(b){TweenLite.set(".first_movett",{clip:"rect(0px "+windowW+"px "+windowH+"px 0px)"}),pageH=$(".page_wrapper").height(),TweenLite.to(".transitionPanel, .first_movett, .movett",1,{clip:"rect(0px 0px "+windowH+"px 0px)",ease:Power3.easeInOut,delay:b,onComplete:loading.pageStart}),setTimeout(function(){effect.titleIn()},900+1000*b)},pageStart:function(){if(effect.typewriterFire(),scroll.header("up"),$html.addClass("loaded").removeClass("is_basic is_godetail is_goint is_goback loading ready transition c_dark is_closebtn"),$(".focusedThumb").remove()){var b=$("[data-current]").data("current");$('.categorynavi a[data-tgt="'+b+'"]').parents("li").addClass("active")}}};function getPosition(){scrollT=$(scrollWindow).scrollTop();scrollB=scrollT+windowH;scrollM=scrollT+windowH/3}var ua={browser:function(){var b=window.navigator.userAgent.toLowerCase();var a=window.navigator.appVersion.toLowerCase();if(b.indexOf("msie")!=-1||b.indexOf("trident")>=0){ie=true;if(a.indexOf("msie 8.")!=-1){return"ie ie-old ie8"}else{if(a.indexOf("msie 9.")!=-1){return"ie ie-old ie9"}else{if(a.indexOf("msie 10.")!=-1){return"ie ie-old ie10"}else{if(b.indexOf("trident")>=0){return"ie ie11"}}}}}else{if(b.indexOf("edge")!=-1){return"edge"}else{return"no-ie"}}},device:function(){var a=window.navigator.userAgent.toLowerCase();if(a.indexOf("iphone")>0||a.indexOf("ipod")>0||a.indexOf("android")>0&&a.indexOf("mobile")>0){return"sp"}else{if(a.indexOf("ipad")>0||a.indexOf("android")>0){return"tab"}else{return"pc"}}}};var device=ua.device();var effect={rand:function(b,a){return Math.random()*(a-b)+b},shuffle:function(b,a){b.shuffleLetters({step:3,fps:30,callback:a})},cover:function(){$("[data-cover]").each(function(c,a){var b=$(a).data("cover");$(a).css({"background-image":"url("+b+")"})})},bw:function(){$(".b-w").BlackAndWhite({hoverEffect:false,onImageReady:function(a){}})},glass:function(){$(".glass").each(function(c,a){var b=$(a).data("blur");$(a).backgroundBlur({imageURL:b,blurAmount:26,imageClass:"bg_blur",duration:200})})},blurtx:function(){$("a.blurtx, a .blurtx, .blurtx a").each(function(c,a){if($(a).is(".bluron")){return}$(a).addClass("bluron");$(a).wrapInner("<span />");var b=$(a).children("span");b.clone(true).appendTo(this).clone(true).appendTo(this);b.addClass("entity").next().addClass("dummy1").next().addClass("dummy2")})},titleIn:function(){$(".textblow").addClass("show")},typewriterSet:function(){$(".typewriter").each(function(b,c){var a=$(c);a.children().andSelf().contents().each(function(){if(this.nodeType==3){$(this).replaceWith($(this).text().replace(/(\S)/g,'<span class="lt">$1</span>'))}});$("span",a).each(function(d){$(this).css("animation-delay",0.1+0.022*d+"s")})})},typewriterFire:function(){$(".typewriter").addClass("show")}};var btn_Dive;var scroll={plx:function(){if(!pcsize||ie){return}$("[data-plx]").each(function(e,f){var d=$(f);var a=d.offset().top;if(a<scrollB+100&&a>scrollT-windowH){var b=d.data("plx");var c=(a-scrollM)*1.4/b;TweenLite.set(d,{y:c})}})},dive:function(){if(!pcsize){return}if(scrollT<=0){scroll.btnDiveShow(0.8)}else{scroll.btnDiveHide(0.8)}if(!ie){var b=(scrollT/windowH*2);var c=(scrollT-windowH/3);var a=c/windowH;if(b<=1){TweenLite.set($(".intro.type2 .bgimg"),{alpha:1-b})}else{TweenLite.to($(".intro.type2 .bgimg"),0.4,{alpha:0,ease:Power1.easeOut})}if(c>0.5&&a<=1){scroll.btnDiveHide(0.8);TweenLite.set($(".intro.type2 .leadbox"),{alpha:1-a,y:-c/2-5})}else{if(c<=0.5){TweenLite.to($(".intro.type2 .leadbox"),0.4,{alpha:1,y:0,ease:Power1.easeOut})}else{TweenLite.to($(".intro.type2 .leadbox"),0.4,{alpha:0,ease:Power1.easeOut})}}}},btnDiveShow:function(a){btn_Dive=TweenLite.to($(".btn_dive"),a,{y:0,alpha:1})},btnDiveHide:function(a){if(btn_Dive){btn_Dive.pause()}TweenLite.to($(".btn_dive"),a,{y:scrollT,alpha:0})},header:function(a){if(a==="down"){$html.addClass("is_menu_hide")}else{$html.removeClass("is_menu_hide")}},footer:function(){if(!pcsize){return}if(scrollB>=pageH-100){scroll.footerShow()}if(scrollB<pageH-100){scroll.footerHide()}},footerShow:function(){$html.addClass("show_ft")},footerHide:function(){$html.removeClass("show_ft")}};$(document).on("click",".btn_dive",function(){if(pagetype==="home"){fullpage.start("down")}else{fistviewH=(pcsize&&!ie)?windowH*1.4:windowH;TweenLite.to(scrollWindow,1,{scrollTo:fistviewH,ease:Circ.easeInOut});scroll.header("down")}});$(document).on("click",".btn_goup",function(b){b.preventDefault();if(pagetype==="home"){fullpage.jump(0)}else{var a=0.0005*scrollT;scroll.header("up");TweenLite.to(scrollWindow,a,{scrollTo:{y:0,x:0},ease:Power4.easeOut,onComplete:function(){scroll.btnDiveShow()}})}});function reset(){scroll.footerHide()}function subpageFunc(){subscrollSet();$(scrollWindow).on({scroll:function(a){getPosition();subscrollSet()}})}function subscrollSet(){pagenavi();scroll.dive();scroll.footer();scroll.plx()}function pagenavi(){$("[data-anc]").each(function(b,c){var a=$(c);if(a[0]["className"]==="career_link"){if(scrollM>a.offset().top&&scrollM-windowH/2<a.offset().top+a.height()){if(activePagenavi!=a.data("anc")&&activePagenavi!=""){$(".sec",$pagenavi).eq(b).addClass("active").siblings(".sec").removeClass("active");effect.shuffle($(".active .text",$pagenavi));activePagenavi=a.data("anc")}}}else{if(scrollM>a.offset().top&&scrollM<a.offset().top+a.height()){if(activePagenavi!=a.data("anc")&&activePagenavi!=""){$(".sec",$pagenavi).eq(b).addClass("active").siblings(".sec").removeClass("active");effect.shuffle($(".active .text",$pagenavi));activePagenavi=a.data("anc")}}}})}function listpageFunc(){listscrollSet();effect.glass();newsCollaspse();$(scrollWindow).on({scroll:function(a){getPosition();listscrollSet()}})}function listscrollSet(){scroll.footer();scroll.plx()}function loadExImages(a){$("[data-src]",a).each(function(b,c){$(c).attr("src",$(c).data("src")).removeAttr("data-src")})}function detailscrollFunc(){$(scrollWindow).on({scroll:function(a){scrollT=$(scrollWindow).scrollTop();scrollB=scrollT+windowH;scrollM=scrollT+windowH/3;pagenavi();scroll.plx()}})}$(document).ready(function(){$(".nav_link_set, .panel_topbar .button").click(function(){$("body, html").toggleClass("nav_open");$(".panel").toggleClass("active_set")})});